外部贡献指南
============

**过去，我们接受大多数拉取请求。这种做法会导致代码难以维护、性能问题和错误。**为了改善我们代码库的质量和可维护性，我们为外部贡献建立了以下指南。

提交拉取请求（PR）之前：
------

**从问题开始**：在提交 PR 之前，始终提一个问题来讨论您想要解决的问题或添加的功能。如果您在提议一个新的功能，请使用前缀 `RFC:`（请求评论）。向其他用户寻求反馈意见。花时间总结所有反馈意见。这使维护者能够更有效地评估您的建议。在创建 RFC 时，请考虑以下问题：

  - **用户体验**：这个功能如何改善用户体验？

  - **受益人**：哪些 Lean 用户和项目最受益于这个功能/改变？

  - **社区反馈**：您是否寻求了其他 Lean 用户的反馈或见解？

  - **可维护性**：这个变化是否能简化代码维护或简化其结构？

**了解项目**：熟悉项目、现有问题和最新提交。确保您的贡献与项目的方向和优先事项相吻合。

**保持更新**：定期获取和合并主分支上的更改，以确保您的分支是最新的，并且可以顺利地集成。

**需要帮助**：我们有一些带有["帮助请求"](https://github.com/leanprover/lean4/issues?q=is%3Aissue+is%3Aopen+label%3A%22help+wanted%22)标签的问题，如果您想为项目做贡献，请查看这些问题。如果您对其中某一问题感兴趣，请发表评论、提问并与核心开发人员进行互动。

质量大于数量：
----------

**专注的更改**：每个 PR 应解决一个明确定义的问题或功能。避免在一个 PR 中进行多个不相关的更改。

**编写测试**：每个新功能或错误修复都应配备相关的测试。这确保了贡献的健壮性和可靠性。

**文档**：更新相关文档，包括代码中的注释，以解释您的更改的逻辑和原因。

编码标准：
----

**遵循代码风格**：确保您的代码遵循项目的已建立的编码风格。

**借助 Lean**：有效地使用 Lean 的内置功能和库，避免重复发明。
**性能**: 请确保您的更改不会引入性能下降。如果可能的话，请优化解决方案的速度和资源使用情况。

PR提交:
---

**描述性标题和摘要**: PR标题应简要解释PR的目的。摘要应提供更详细的信息，说明所做的更改和原因。将Zulip线程链接作为摘要是不可接受的。您负责总结讨论并获得支持。

**相关问题链接**: 引用您的PR所涉及的任何问题，以提供上下文。

**保持响应**: 提交PR后，请保持对反馈的响应，并准备进行必要的修订。如果PR在提交后一个月内没有任何响应或更新，我们将关闭该PR。

评论和反馈:
----

**要有耐心**: 考虑到全职维护者的数量有限，以及PR的数量，审核可能需要一些时间。

**友好地交流**: 总是积极和建设性地接受反馈意见。请记住，审核是为了确保项目的最佳质量，而不是个人批评。

**持续集成**: 确保您的PR通过了所有的CI检查。未通过的检查将延迟审核过程。维护者不会审核包含失败的PR。

预期结果:
----

**不是所有的PR都会被合并**: 尽管我们感谢每一次贡献，但并不是所有的PR都会被合并。请确保您的更改与项目的目标和质量标准一致。

**反馈是一种礼物**: 它有助于改进项目，也可以帮助您作为开发者或贡献者的成长。

**参与社区**: 在我们的沟通渠道上与Lean社区互动。这有助于更好地合作和理解项目的发展方向。